<!--index.wxml-->
<view class="container">
  <!-- èœå“åˆ—è¡¨ -->

  <!-- èœå“åˆ—è¡¨ -->
  <scroll-view class="dish-list" scroll-y>
    <view class="dish-card" wx:for="{{dishes}}" wx:key="id" bindtap="navigateToDetail" data-id="{{item.id}}">
      <image wx:if="{{item.image}}" class="dish-image" src="{{item.image}}" mode="aspectFill"></image>
      <view class="dish-header">
        <text class="dish-name">{{item.name}}</text>
        <view class="dish-tags">
          <text wx:for="{{item.tags}}" wx:key="*this">{{item}}</text>
        </view>
      </view>


      <view class="dish-footer">
        <view class="rating">
          <text wx:for="{{[1,2,3,4,5]}}" wx:key="*this" wx:for-item="rate"
                class="star {{rate <= item.userRating ? 'active' : ''}}"
                catchtap="rateDish" data-id="{{item.id}}" data-rating="{{rate}}">â˜…</text>
        </view>
        <view class="favorite" catchtap="toggleFavorite" data-id="{{item.id}}">
          {{item.isFavorite ? 'â¤ï¸' : 'ğŸ¤'}}
        </view>
        <view class="delete" catchtap="deleteDish" data-id="{{item.id}}">
          ğŸ—‘ï¸
        </view>
      </view>
    </view>
  </scroll-view>

  <!-- åº•éƒ¨æ“ä½œæ  -->
  <view class="action-bar">
    <button class="add-btn" bindtap="navigateToAdd">+ æ·»åŠ èœå“</button>
    <button class="random-btn" bindtap="navigateToRandom">ğŸ² éšæœºæ¨è</button>
  </view>
</view>
